!function(e,t){for(var o,l=e?"touchstart":"mousedown",n=e?"touchmove":"mousemove",c=e?"touchend":"mouseup",r={SCROLL:"scroll",SCROLLSTOP:"scrollStop",BOUNCE:"scrollBounce",BOUNCEEND:"scrollBounceEnd"},i={criticalSpeed:.06,a:.002,delay:16},s={direction:"y"},a=function(e){var t={};return t=e.changedTouches?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}},u=function(e,t,o,l){var n=e.mscrollJam,c="x"!==o,i=c?e.scrollTop:e.scrollLeft,s=c?"Height":"Width",a=function(t){return(n=e.mscrollJam)||(t?(e.__footBounce||(e.__footBounce=e.children[e.children.length-1],"bounce"!=e.__footBounce.tagName.toLowerCase()&&(e.__footBounce=document.createElement("bounce"),e.appendChild(e.__footBounce))),e.mscrollJam=n=e.__footBounce):(e.__headBounce||(e.__headBounce=e.children[0]),e.mscrollJam=n=e.__headBounce),c?(n.style.width="100%",n.style.height=0):(n.style.width=0,n.style.height="100%"),n.setAttribute("data-type",c?"y":"x"),n.className="__mscroll__jam"),n},u=function(t){var o=t/3,i=n["client"+s],a=c?100:20;l&&(o=Math.max(o,i)),0>=o||l&&(Math.abs(i-o)<1||o>=a/2)?d(e):(n.style[s.toLowerCase()]=Math.min(o,a)+"px",f.call(e,r.BOUNCE,{scrollTop:self.scrollTop,scrollLeft:self.scrollLeft,deltaY:c?o:0,deltaX:c?0:o}))},t=t||0;return 0>=i+t?(a(0),u(-t)):i+t>=e["scroll"+s]-e["client"+s]?(a(1),c?e.scrollTop=i+t:e.scrollLeft=i+t,u(t)):n&&(e.removeChild(n),e.mscrollJam=null),e.mscrollJam},d=(function(e){var t=e.mscrollJam;if(t&&!t._removing){t._removing=!0;var o="webkitTransition"in t.style,l=o?"webkitTransition":"transition",n="x"==t.getAttribute("data-type")?"width":"height";t.style[l]=n+" .2s",t.style[n]=0,t.addEventListener(o?"webkitTransitionEnd":"transitionend",function(){t.style[l]="",e.mscrollJam=null,t._removing=void 0,f.call(e,r.BOUNCEEND,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})},!1)}}),f=function(e,t){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),o.eventType="mscrollEvent",o.data=t,this.dispatchEvent(o)},h=function(e){var t={bounce:"bounce"==e.children[0].tagName.toLowerCase()},o=window.getComputedStyle(e,null),l=o.getPropertyValue("overflow-x"),n=o.getPropertyValue("overflow-y");return"auto"==n?t.direction="y":"auto"==l&&(t.direction="x"),t},m=({touchScroll:function(e){var t,o,i,d=!1,m={},p=this,e=h(p);for(var v in s)v in e||(e[v]=s[v]);return i="x"!==e.direction,p.__mscroll_config=e,p.addEventListener(l,function(e){"function"==typeof p.scrollStop&&p.scrollStop(),m=a(e),t=(new Date).getTime(),d=!0,o=0},!1),document.addEventListener(c,function(t){d&&(d=!1,p.speedTo(o,e.direction,e.bounce),t.preventDefault())},!1),document.addEventListener(n,function(l){if(d){l.preventDefault();var n,c=a(l),s=m.y-c.y,h=m.x-c.x,v=(new Date).getTime()-t,T=Math.abs(h)-Math.abs(s),L=!0;if(T>0){if("y"==e.direction)return t=(new Date).getTime(),m=c,void 0}else if(0>T&&"x"==e.direction)return t=(new Date).getTime(),m=c,void 0;if(e.bounce&&u(p,i?s:h,i?"y":"x"))return;i?(n=p.scrollTop,p.scrollTop+=s,o=s/v,L=n!=p.scrollTop):(n=p.scrollTop,p.scrollLeft+=h,o=h/v,L=n!=p.scrollLeft),L&&f.call(p,r.SCROLL,{scrollTop:p.scrollTop,scrollLeft:p.scrollLeft,deltaY:s,deltaX:h}),t=(new Date).getTime(),m=c}},!1),this},speedTo:function(e,t,o){var l=i.criticalSpeed,n=this,c="x"!==t,s=c?"scrollTop":"scrollLeft",a=i.a,h=0>e,a=h?-a:a,m=e,p=i.delay,e=Math.max(-3,Math.min(3,e));if(Math.pow(e,2)/a/2,n.scrollStop=function(){y&&clearInterval(y),o&&d(n),f.call(n,r.SCROLLSTOP),n.scrollStop=null},e&&Math.abs(e)>l){var v,T=n[s],L=e*p,y=setInterval(function(){e-=p*a,L+=e*p;var l=n[s];n[s]=L+T,v&&o||f.call(n,r.SCROLL,{scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,deltaY:c?L:0,deltaX:c?0:L}),0>=m*e?n.scrollStop&&n.scrollStop.call(n):l==n[s]&&(!o||(v=u(n,L+T-l,t,!0))&&v._removing)&&n.scrollStop&&n.scrollStop.call(n)},p);n[s]=L+T}else n.scrollStop&&n.scrollStop.call(n,{});return this},scrollTo:function(e,t){return void 0!==e&&(this.scrollLeft=e),void 0!==t&&(this.scrollTop=t),this}}),p=0;o=t[p];p++){for(var v in m)o[v]=m[v];o.touchScroll&&o.touchScroll()}}("ontouchend"in document,document.getElementsByTagName("scrollview"));